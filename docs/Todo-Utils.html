<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Todo.Utils</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">todo-0.1: Template</span><ul class="links" id="page-menu"><li><a href="src/Todo.Utils.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Todo.Utils</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Monadic Combinators</a></li><li><a href="#g:2">Optics</a><ul><li><a href="#g:3">Preview + Over</a><ul><li><a href="#g:4">Optics</a></li></ul></li></ul></li><li><a href="#g:5">Aeson</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:whileM">whileM</a> :: <a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m =&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; m a -&gt; m (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> a)</li><li class="src short"><a href="#v:whileApplyM">whileApplyM</a> :: <a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m =&gt; a -&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; (a -&gt; m (a, b)) -&gt; m (a, <a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> b)</li><li class="src short"><a href="#v:whileApplySetM">whileApplySetM</a> :: <span class="keyword">forall</span> m a b. (<a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m, <a href="Todo-Prelude.html#t:Ord" title="Todo.Prelude">Ord</a> b) =&gt; a -&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; (a -&gt; m (a, b)) -&gt; m (a, <a href="Todo-Prelude.html#t:Set" title="Todo.Prelude">Set</a> b)</li><li class="src short"><a href="#v:whileM_">whileM_</a> :: <a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m =&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; m a -&gt; m ()</li><li class="src short"><a href="#v:traversal">traversal</a> :: <a href="Todo-Prelude.html#t:Traversable" title="Todo.Prelude">Traversable</a> f =&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (f a) (f b) a b</li><li class="src short"><a href="#v:listTraversal">listTraversal</a> :: <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> a) (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> b) a b</li><li class="src short"><a href="#v:listPredTraversal">listPredTraversal</a> :: (a -&gt; <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a>) -&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> a) (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> b) a b</li><li class="src short"><a href="#v:seqTraversal">seqTraversal</a> :: <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> a) (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> b) a b</li><li class="src short"><a href="#v:seqPredTraversal">seqPredTraversal</a> :: (a -&gt; <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a>) -&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> a) (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> b) a b</li><li class="src short"><a href="#v:neSetTraversal">neSetTraversal</a> :: <span class="keyword">forall</span> a b. <a href="Todo-Prelude.html#t:Ord" title="Todo.Prelude">Ord</a> b =&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:NESet" title="Todo.Prelude">NESet</a> a) (<a href="Todo-Prelude.html#t:NESet" title="Todo.Prelude">NESet</a> b) a b</li><li class="src short"><a href="#v:overPreview-39-">overPreview'</a> :: <span class="keyword">forall</span> k (is :: <a href="file:///nix/store/vi11wc3h2sdg4jvrhg9w7bd42fslsx1b-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/Optics-Optic.html#t:IxList" title="Optics.Optic">IxList</a>) s a. (<a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:An_AffineFold" title="Todo.Prelude">An_AffineFold</a>, <a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:A_Setter" title="Todo.Prelude">A_Setter</a>) =&gt; <a href="Todo-Prelude.html#t:Optic" title="Todo.Prelude">Optic</a> k is s s a a -&gt; (a -&gt; a) -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> s</li><li class="src short"><a href="#v:setPreview-39-">setPreview'</a> :: <span class="keyword">forall</span> k (is :: <a href="file:///nix/store/vi11wc3h2sdg4jvrhg9w7bd42fslsx1b-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/Optics-Optic.html#t:IxList" title="Optics.Optic">IxList</a>) s a. (<a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:An_AffineFold" title="Todo.Prelude">An_AffineFold</a>, <a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:A_Setter" title="Todo.Prelude">A_Setter</a>) =&gt; <a href="Todo-Prelude.html#t:Optic" title="Todo.Prelude">Optic</a> k is s s a a -&gt; a -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> s</li><li class="src short"><a href="#v:overPreviewNode-39-">overPreviewNode'</a> :: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a -&gt; <a href="Todo-Prelude.html#t:Lens-39-" title="Todo.Prelude">Lens'</a> a b -&gt; (b -&gt; b) -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> s a)</li><li class="src short"><a href="#v:setPreviewNode-39-">setPreviewNode'</a> :: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a -&gt; <a href="Todo-Prelude.html#t:Lens-39-" title="Todo.Prelude">Lens'</a> a b -&gt; b -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> s a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:MatchResult">MatchResult</a> s a<ul class="subs"><li>= <a href="#v:MatchFailure">MatchFailure</a></li><li>| <a href="#v:MatchPartial">MatchPartial</a> a</li><li>| <a href="#v:MatchSuccess">MatchSuccess</a> s a</li></ul></li><li class="src short"><a href="#v:overPreviewPartialNode-39-">overPreviewPartialNode'</a> :: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a -&gt; <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> a b -&gt; (b -&gt; b) -&gt; s -&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a</li><li class="src short"><a href="#v:setPreviewPartialNode-39-">setPreviewPartialNode'</a> :: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a -&gt; <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> a b -&gt; b -&gt; s -&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a</li><li class="src short"><a href="#v:_MatchSuccess">_MatchSuccess</a> :: <a href="Todo-Prelude.html#t:Prism" title="Todo.Prelude">Prism</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a) (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> t a) (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> s a) (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> t a)</li><li class="src short"><a href="#v:_MatchPartial">_MatchPartial</a> :: <a href="Todo-Prelude.html#t:Prism-39-" title="Todo.Prelude">Prism'</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a) a</li><li class="src short"><a href="#v:_MatchFailure">_MatchFailure</a> :: <a href="Todo-Prelude.html#t:Prism-39-" title="Todo.Prelude">Prism'</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a) ()</li><li class="src short"><a href="#v:validateKeys">validateKeys</a> :: <a href="Todo-Prelude.html#t:Set" title="Todo.Prelude">Set</a> <a href="file:///home/tommy/.local/state/cabal/store/ghc-9.8.2/aeson-2.2.3.0-8cc1203e7e97f1dc8b8142f9a2bdb7a1c88139a40202164cd71e277316209b77/share/doc/html/Data-Aeson-Key.html#t:Key" title="Data.Aeson.Key">Key</a> -&gt; <a href="file:///home/tommy/.local/state/cabal/store/ghc-9.8.2/aeson-2.2.3.0-8cc1203e7e97f1dc8b8142f9a2bdb7a1c88139a40202164cd71e277316209b77/share/doc/html/Data-Aeson-Types.html#t:Object" title="Data.Aeson.Types">Object</a> -&gt; <a href="file:///home/tommy/.local/state/cabal/store/ghc-9.8.2/aeson-2.2.3.0-8cc1203e7e97f1dc8b8142f9a2bdb7a1c88139a40202164cd71e277316209b77/share/doc/html/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Monadic Combinators</h1></a><div class="top"><p class="src"><a id="v:whileM" class="def">whileM</a> :: <a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m =&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; m a -&gt; m (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> a) <a href="src/Todo.Utils.html#whileM" class="link">Source</a> <a href="#v:whileM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:whileApplyM" class="def">whileApplyM</a> :: <a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m =&gt; a -&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; (a -&gt; m (a, b)) -&gt; m (a, <a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> b) <a href="src/Todo.Utils.html#whileApplyM" class="link">Source</a> <a href="#v:whileApplyM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:whileApplySetM" class="def">whileApplySetM</a> :: <span class="keyword">forall</span> m a b. (<a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m, <a href="Todo-Prelude.html#t:Ord" title="Todo.Prelude">Ord</a> b) =&gt; a -&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; (a -&gt; m (a, b)) -&gt; m (a, <a href="Todo-Prelude.html#t:Set" title="Todo.Prelude">Set</a> b) <a href="src/Todo.Utils.html#whileApplySetM" class="link">Source</a> <a href="#v:whileApplySetM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:whileM_" class="def">whileM_</a> :: <a href="Todo-Prelude.html#t:Monad" title="Todo.Prelude">Monad</a> m =&gt; m <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> -&gt; m a -&gt; m () <a href="src/Todo.Utils.html#whileM_" class="link">Source</a> <a href="#v:whileM_" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Optics</h1></a><div class="top"><p class="src"><a id="v:traversal" class="def">traversal</a> :: <a href="Todo-Prelude.html#t:Traversable" title="Todo.Prelude">Traversable</a> f =&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (f a) (f b) a b <a href="src/Todo.Utils.html#traversal" class="link">Source</a> <a href="#v:traversal" class="selflink">#</a></p><div class="doc"><p>Traversal for any Traversable.</p></div></div><div class="top"><p class="src"><a id="v:listTraversal" class="def">listTraversal</a> :: <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> a) (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> b) a b <a href="src/Todo.Utils.html#listTraversal" class="link">Source</a> <a href="#v:listTraversal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:listPredTraversal" class="def">listPredTraversal</a> :: (a -&gt; <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a>) -&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> a) (<a href="Todo-Prelude.html#t:List" title="Todo.Prelude">List</a> b) a b <a href="src/Todo.Utils.html#listPredTraversal" class="link">Source</a> <a href="#v:listPredTraversal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:seqTraversal" class="def">seqTraversal</a> :: <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> a) (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> b) a b <a href="src/Todo.Utils.html#seqTraversal" class="link">Source</a> <a href="#v:seqTraversal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:seqPredTraversal" class="def">seqPredTraversal</a> :: (a -&gt; <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a>) -&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> a) (<a href="Todo-Prelude.html#t:Seq" title="Todo.Prelude">Seq</a> b) a b <a href="src/Todo.Utils.html#seqPredTraversal" class="link">Source</a> <a href="#v:seqPredTraversal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:neSetTraversal" class="def">neSetTraversal</a> :: <span class="keyword">forall</span> a b. <a href="Todo-Prelude.html#t:Ord" title="Todo.Prelude">Ord</a> b =&gt; <a href="Todo-Prelude.html#t:Traversal" title="Todo.Prelude">Traversal</a> (<a href="Todo-Prelude.html#t:NESet" title="Todo.Prelude">NESet</a> a) (<a href="Todo-Prelude.html#t:NESet" title="Todo.Prelude">NESet</a> b) a b <a href="src/Todo.Utils.html#neSetTraversal" class="link">Source</a> <a href="#v:neSetTraversal" class="selflink">#</a></p><div class="doc"><p>Traverses an NESet.</p></div></div><a href="#g:3" id="g:3"><h2>Preview + Over</h2></a><div class="top"><p class="src"><a id="v:overPreview-39-" class="def">overPreview'</a> :: <span class="keyword">forall</span> k (is :: <a href="file:///nix/store/vi11wc3h2sdg4jvrhg9w7bd42fslsx1b-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/Optics-Optic.html#t:IxList" title="Optics.Optic">IxList</a>) s a. (<a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:An_AffineFold" title="Todo.Prelude">An_AffineFold</a>, <a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:A_Setter" title="Todo.Prelude">A_Setter</a>) =&gt; <a href="Todo-Prelude.html#t:Optic" title="Todo.Prelude">Optic</a> k is s s a a -&gt; (a -&gt; a) -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> s <a href="src/Todo.Utils.html#overPreview%27" class="link">Source</a> <a href="#v:overPreview-39-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Todo-Prelude.html#v:over-39-" title="Todo.Prelude">over'</a></code>, except we run the <code><a href="Todo-Prelude.html#v:set-39-" title="Todo.Prelude">set'</a></code> on the result of a <code><a href="Todo-Prelude.html#v:preview" title="Todo.Prelude">preview</a></code>.
 This is intended for updates that can fail. For example, we want <code>Index</code>
 update to fail if we do not find a task with the desired id. The
 <code>Ixed</code> class, however, provides an <code>AffineTraversal' s a</code> i.e sets always
 succeed.</p><p>We therefore generalize to AffineFold and Setter, and run the set on the
 preview.</p></div></div><div class="top"><p class="src"><a id="v:setPreview-39-" class="def">setPreview'</a> :: <span class="keyword">forall</span> k (is :: <a href="file:///nix/store/vi11wc3h2sdg4jvrhg9w7bd42fslsx1b-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/Optics-Optic.html#t:IxList" title="Optics.Optic">IxList</a>) s a. (<a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:An_AffineFold" title="Todo.Prelude">An_AffineFold</a>, <a href="Todo-Prelude.html#t:Is" title="Todo.Prelude">Is</a> k <a href="Todo-Prelude.html#t:A_Setter" title="Todo.Prelude">A_Setter</a>) =&gt; <a href="Todo-Prelude.html#t:Optic" title="Todo.Prelude">Optic</a> k is s s a a -&gt; a -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> s <a href="src/Todo.Utils.html#setPreview%27" class="link">Source</a> <a href="#v:setPreview-39-" class="selflink">#</a></p><div class="doc"><p><code><a href="Todo-Prelude.html#v:set-39-" title="Todo.Prelude">set'</a></code> with <code><a href="Todo-Utils.html#v:overPreview-39-" title="Todo.Utils">overPreview'</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:overPreviewNode-39-" class="def">overPreviewNode'</a> <a href="src/Todo.Utils.html#overPreviewNode%27" class="link">Source</a> <a href="#v:overPreviewNode-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a</td><td class="doc"><p>AffineTraversal from a &quot;root type&quot; <code>s</code> to node <code>a</code>.</p></td></tr><tr><td class="src">-&gt; <a href="Todo-Prelude.html#t:Lens-39-" title="Todo.Prelude">Lens'</a> a b</td><td class="doc"><p>Lens from node <code>a</code> to leaf <code>l</code>.</p></td></tr><tr><td class="src">-&gt; (b -&gt; b)</td><td class="doc"><p>Leaf modifier.</p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Root to modify.</p></td></tr><tr><td class="src">-&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> s a)</td><td class="doc"><p>The new root <code>s'</code> and inner node <code>a'</code>, if the update was successful.</p></td></tr></table></div><div class="doc"><p>Like <code><a href="Todo-Utils.html#v:overPreview-39-" title="Todo.Utils">overPreview'</a></code>, except we also return the updated &quot;inner node&quot;,
 if the update succeeds.</p></div></div><div class="top"><p class="src"><a id="v:setPreviewNode-39-" class="def">setPreviewNode'</a> :: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a -&gt; <a href="Todo-Prelude.html#t:Lens-39-" title="Todo.Prelude">Lens'</a> a b -&gt; b -&gt; s -&gt; <a href="Todo-Prelude.html#t:Maybe" title="Todo.Prelude">Maybe</a> (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> s a) <a href="src/Todo.Utils.html#setPreviewNode%27" class="link">Source</a> <a href="#v:setPreviewNode-39-" class="selflink">#</a></p><div class="doc"><p><code><a href="Todo-Utils.html#v:overPreviewNode-39-" title="Todo.Utils">overPreviewNode'</a></code> that sets the field.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MatchResult" class="def">MatchResult</a> s a <a href="src/Todo.Utils.html#MatchResult" class="link">Source</a> <a href="#t:MatchResult" class="selflink">#</a></p><div class="doc"><p>Optics matching result.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MatchFailure" class="def">MatchFailure</a></td><td class="doc"><p>Match completed failed.</p></td></tr><tr><td class="src"><a id="v:MatchPartial" class="def">MatchPartial</a> a</td><td class="doc"><p>Match &quot;partially&quot; succeeded (context-dependent).</p></td></tr><tr><td class="src"><a id="v:MatchSuccess" class="def">MatchSuccess</a> s a</td><td class="doc"><p>Match completely succeeded.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MatchResult">Instances</h4><details id="i:MatchResult" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MatchResult:Show:1"></span> (<a href="Todo-Prelude.html#t:Show" title="Todo.Prelude">Show</a> s, <a href="Todo-Prelude.html#t:Show" title="Todo.Prelude">Show</a> a) =&gt; <a href="Todo-Prelude.html#t:Show" title="Todo.Prelude">Show</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a)</span> <a href="src/Todo.Utils.html#line-220" class="link">Source</a> <a href="#t:MatchResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MatchResult:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Todo-Utils.html">Todo.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="Todo-Prelude.html#t:Int" title="Todo.Prelude">Int</a> -&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a -&gt; <a href="${pkgroot}/../../../../ya0kmzkcxhr3qj5vaz8v72pmmk1a9lhq-ghc-9.8.2-doc/share/doc/ghc/html/libraries/base-4.19.1.0-inplace/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a -&gt; <a href="Todo-Prelude.html#t:String" title="Todo.Prelude">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a] -&gt; <a href="${pkgroot}/../../../../ya0kmzkcxhr3qj5vaz8v72pmmk1a9lhq-ghc-9.8.2-doc/share/doc/ghc/html/libraries/base-4.19.1.0-inplace/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MatchResult:Eq:2"></span> (<a href="${pkgroot}/../../../../ya0kmzkcxhr3qj5vaz8v72pmmk1a9lhq-ghc-9.8.2-doc/share/doc/ghc/html/libraries/base-4.19.1.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> s, <a href="${pkgroot}/../../../../ya0kmzkcxhr3qj5vaz8v72pmmk1a9lhq-ghc-9.8.2-doc/share/doc/ghc/html/libraries/base-4.19.1.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a) =&gt; <a href="${pkgroot}/../../../../ya0kmzkcxhr3qj5vaz8v72pmmk1a9lhq-ghc-9.8.2-doc/share/doc/ghc/html/libraries/base-4.19.1.0-inplace/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a)</span> <a href="src/Todo.Utils.html#line-220" class="link">Source</a> <a href="#t:MatchResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MatchResult:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Todo-Utils.html">Todo.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a -&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a -&gt; <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a -&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a -&gt; <a href="Todo-Prelude.html#t:Bool" title="Todo.Prelude">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:overPreviewPartialNode-39-" class="def">overPreviewPartialNode'</a> <a href="src/Todo.Utils.html#overPreviewPartialNode%27" class="link">Source</a> <a href="#v:overPreviewPartialNode-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a</td><td class="doc"><p>AffineTraversal from a &quot;root type&quot; <code>s</code> to node <code>a</code>.</p></td></tr><tr><td class="src">-&gt; <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> a b</td><td class="doc"><p>AffineTraversal from node <code>a</code> to leaf <code>l</code>.</p></td></tr><tr><td class="src">-&gt; (b -&gt; b)</td><td class="doc"><p>Leaf modifier.</p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Root to modify.</p></td></tr><tr><td class="src">-&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a</td><td class="doc"><p>The new root <code>s'</code> and inner node <code>a'</code>, if the update was successful.</p></td></tr></table></div><div class="doc"><p>Like <code><a href="Todo-Utils.html#v:overPreviewNode-39-" title="Todo.Utils">overPreviewNode'</a></code>, except the inner optic is an AffineTraversal,
 not a Lens. The overall AffineTraversal is split so that we can
 distinguish between a complete failure (<code><a href="Todo-Utils.html#v:MatchFailure" title="Todo.Utils">MatchFailure</a></code>) and a partial
 failures (<code>MatchParial</code>).</p><p>This is used, for instance, to distinguish between:</p><ul><li>Failing to find a Task given a TaskId.</li><li>Finding a TaskGroup with the TaskId when we wanted a SingleTask.</li></ul><p>for the purposes of giving a better error message.</p></div></div><div class="top"><p class="src"><a id="v:setPreviewPartialNode-39-" class="def">setPreviewPartialNode'</a> :: <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> s a -&gt; <a href="Todo-Prelude.html#t:AffineTraversal-39-" title="Todo.Prelude">AffineTraversal'</a> a b -&gt; b -&gt; s -&gt; <a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a <a href="src/Todo.Utils.html#setPreviewPartialNode%27" class="link">Source</a> <a href="#v:setPreviewPartialNode-39-" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h3>Optics</h3></a><div class="top"><p class="src"><a id="v:_MatchSuccess" class="def">_MatchSuccess</a> :: <a href="Todo-Prelude.html#t:Prism" title="Todo.Prelude">Prism</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a) (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> t a) (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> s a) (<a href="Todo-Prelude.html#t:Tuple2" title="Todo.Prelude">Tuple2</a> t a) <a href="src/Todo.Utils.html#_MatchSuccess" class="link">Source</a> <a href="#v:_MatchSuccess" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_MatchPartial" class="def">_MatchPartial</a> :: <a href="Todo-Prelude.html#t:Prism-39-" title="Todo.Prelude">Prism'</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a) a <a href="src/Todo.Utils.html#_MatchPartial" class="link">Source</a> <a href="#v:_MatchPartial" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:_MatchFailure" class="def">_MatchFailure</a> :: <a href="Todo-Prelude.html#t:Prism-39-" title="Todo.Prelude">Prism'</a> (<a href="Todo-Utils.html#t:MatchResult" title="Todo.Utils">MatchResult</a> s a) () <a href="src/Todo.Utils.html#_MatchFailure" class="link">Source</a> <a href="#v:_MatchFailure" class="selflink">#</a></p></div><a href="#g:5" id="g:5"><h1>Aeson</h1></a><div class="top"><p class="src"><a id="v:validateKeys" class="def">validateKeys</a> :: <a href="Todo-Prelude.html#t:Set" title="Todo.Prelude">Set</a> <a href="file:///home/tommy/.local/state/cabal/store/ghc-9.8.2/aeson-2.2.3.0-8cc1203e7e97f1dc8b8142f9a2bdb7a1c88139a40202164cd71e277316209b77/share/doc/html/Data-Aeson-Key.html#t:Key" title="Data.Aeson.Key">Key</a> -&gt; <a href="file:///home/tommy/.local/state/cabal/store/ghc-9.8.2/aeson-2.2.3.0-8cc1203e7e97f1dc8b8142f9a2bdb7a1c88139a40202164cd71e277316209b77/share/doc/html/Data-Aeson-Types.html#t:Object" title="Data.Aeson.Types">Object</a> -&gt; <a href="file:///home/tommy/.local/state/cabal/store/ghc-9.8.2/aeson-2.2.3.0-8cc1203e7e97f1dc8b8142f9a2bdb7a1c88139a40202164cd71e277316209b77/share/doc/html/Data-Aeson-Types.html#t:Parser" title="Data.Aeson.Types">Parser</a> () <a href="src/Todo.Utils.html#validateKeys" class="link">Source</a> <a href="#v:validateKeys" class="selflink">#</a></p><div class="doc"><p>Validates that the keys in the object are only those we expect i.e.
 fails if the Object contains unexpected keys.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>